---
title: optimizer
description: API documentation for optimex.optimizer
---

# optimizer

Optimization model construction and solving for temporal LCA-based pathway optimization.

This module creates and solves Pyomo optimization models that minimize environmental
impacts over time while meeting demand constraints and respecting process limits.

## Scaling Convention

The optimization uses a two-tier scaling system for numerical stability:

### Decision Variables (REAL UNITS)
- `var_installation[p, t]`: Number of process units installed (dimensionless)
- `var_operation[p, t]`: Operation level (dimensionless, 0 to capacity)

Both decision variables remain in REAL (unscaled) units to:
1. Maintain physical interpretability
2. Allow direct comparison with process limits
3. Ensure correct background inventory calculations

### Parameters (SCALED UNITS)

**Foreground parameters** (scaled by `fg_scale`):
- `foreground_production[p, r, tau]`: kg product per process unit [SCALED]
- `foreground_biosphere[p, e, tau]`: kg emission per process unit [SCALED]
- `foreground_technosphere[p, i, tau]`: kg intermediate per process unit [SCALED]
- `internal_demand_technosphere[p, r, tau]`: kg product per process unit [SCALED]
- `demand[r, t]`: kg product demanded [SCALED]

**Characterization parameters** (scaled by `cat_scales[category]`):
- `characterization[c, e, t]`: impact per kg emission [SCALED]
- `category_impact_limit[c]`: maximum impact allowed [SCALED]

**Unscaled parameters**:
- `background_inventory[bkg, i, e]`: kg emission / kg intermediate [UNSCALED]
- `mapping[bkg, t]`: interpolation weights [UNSCALED, dimensionless]
- `process_deployment_limits_*`: deployment limits [UNSCALED, matches var_installation]
- `process_operation_limits_*`: operation limits [UNSCALED, matches var_operation]

### Dimensional Consistency

When SCALED parameters are multiplied by REAL decision variables:
```
```
scaled_param [kg SCALED/process] × var_real [# processes] = result [kg SCALED]
```
```
To convert back to REAL units:
```
```
result [kg SCALED] × fg_scale [REAL/SCALED] = result [kg REAL]
```
```
Example constraint dimensional analysis:
```
```
ProductDemandFulfillment:
    production [kg SCALED/operation] × var_operation [#] = demand [kg SCALED] ✓

OperationLimit (LHS):
    var_operation [#] × production [kg SCALED/operation] × fg_scale = [kg REAL]
OperationLimit (RHS):
    production [kg SCALED/process] × fg_scale × var_installation [#] = [kg REAL]
```
```

