---
title: lca_processor
description: API documentation for optimex.lca_processor
---

# lca_processor

Time-explicit LCA data processing for optimization.

This module provides classes and utilities for performing time-explicit Life Cycle
Assessment (LCA) computations using Brightway. It processes
temporal distributions of product demands, constructs foreground and background
inventory tensors, and prepares characterization factors for optimization.

Key classes:
    - LCAConfig: Configuration for LCA computations
    - LCADataProcessor: Main class for time-explicit LCA processing


## Classes

### `BackgroundInventoryConfig`

Configuration for background inventory data.

    Attributes:
        cutoff: Cutoff threshold for the number of top elementary flows to retain based on impact magnitude.
        calculation_method: Method for calculating the inventory tensor. Options: 'sequential', 'parallel'.
        path_to_save: Optional path to save the inventory tensor.
        path_to_load: Optional path to load the inventory tensor.


### `CharacterizationMethodConfig`

Configuration for a single LCIA characterization method.

    Attributes:
        category_name: User-defined identifier for the impact category
            (e.g., 'climate_change_dynamic_gwp').
        brightway_method: Brightway method identifier tuple, either 2 or 3 elements
            (e.g., ('GWP', 'example') or ('IPCC', 'climate change', 'GWP 100a')).
        metric: Impact metric used for dynamic characterization.
            None implies static method.
            Supported values: 'GWP', 'CRF'.


#### Methods

##### `dynamic(self) -> bool`

Indicates whether this is a dynamic characterization method.


### `Config`

### `LCAConfig`

Configuration class for Life Cycle Assessment (LCA) data processing.

    Attributes:
        demand: Dictionary {product_node: temporal_distribution} containing time-explicit demands for each product.
            Keys must be Brightway product node objects (bd.get_node(...)).
        temporal: Temporal configuration for model time behavior.
        characterization_methods: List of characterization method configurations.
        background_inventory: Configuration for background inventory data calculation.


### `LCADataProcessor`

Class to perform time-explicit Life Cycle Assessment (LCA)
    computations and gather necessary data for building an optimization model.

    This class is primarily responsible for executing the LCA-based computations
    required to collect all the data needed for building `OptimizationModelInputs`. It is reliant on
    Brightway2, an open-source framework for Life Cycle Assessment, to perform the
    calculations and retrieve LCA results.


#### Methods

##### `__init__(self, config: LCAConfig) -> None`

Initialize the LCADataProcessor with the LCA configuration.

        Parameters
        ----------
        config : LCAConfig
            The configuration object containing all settings for demand,
            temporal parameters, characterization methods, and background inventory.


##### `background_inventory(self) -> dict`

Read-only access to the inventory tensor.


##### `category(self) -> set`

Read-only access to the impact categories list.


##### `characterization(self) -> dict`

Read-only access to the characterization matrix.


##### `demand(self) -> dict`

Read-only access to the parsed demand dictionary.


##### `elementary_flows(self) -> dict`

Read-only access to the elementary flows dictionary.


##### `foreground_biosphere(self) -> dict`

Read-only access to the foreground biosphere tensor.


##### `foreground_production(self) -> dict`

Read-only access to the foreground production tensor.


##### `foreground_technosphere(self) -> dict`

Read-only access to the foreground technosphere tensor.


##### `intermediate_flows(self) -> dict`

Read-only access to the intermediate flows dictionary.


##### `internal_demand_technosphere(self) -> dict`

Read-only access to the internal demand technosphere tensor.


##### `mapping(self) -> dict`

Read-only access to the mapping matrix.


##### `operation_flow(self) -> dict`

Read-only access to the operation flow dictionary.


##### `operation_time_limits(self) -> dict`

Read-only access to the operation time limits dictionary.


##### `parallel_inventory_tensor_calculation(self, cutoff, n_jobs) -> dict`

Not yet implemented. Could improve performance significantly by parallelizing


##### `process_time(self) -> set`

Read-only access to the process time list.


##### `processes(self) -> dict`

Read-only access to the processes dictionary.


##### `products(self) -> dict`

Read-only access to the products dictionary.


##### `reference_products(self) -> set`

Read-only access to the functional flows list.


##### `system_time(self) -> set`

Read-only access to the system time list.


### `MetricEnum`

Supported metrics for dynamic impact characterization.

    Attributes:
        GWP: Global Warming Potential - time-dependent radiative forcing metric
        CRF: Cumulative Radiative Forcing - integrated radiative forcing over time horizon


### `TemporalConfig`

Configuration related to temporal aspects of the model.

    Attributes:
        start_date: The start date of the time horizon.
        temporal_resolution: Temporal resolution for the model.
            Options: 'year', 'month', 'day'.
        time_horizon: Length of the time horizon (in units of `temporal_resolution`).
        fixed_time_horizon: If True, the time horizon is calculated from the time of the functional 
            unit (FU) instead of the time of emission
        database_dates: Mapping from database names to their respective reference dates.


### `TemporalResolutionEnum`

Supported temporal resolutions for the optimization model.

    Attributes:
        year: Annual time steps (currently the only supported resolution)

